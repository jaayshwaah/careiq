@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==== Design tokens (light/dark) ==== */
:root {
  --bg: #f7f8fb;             /* subtle neutral */
  --panel: rgba(255,255,255,0.7);
  --text: #0b0b0b;
  --border: rgba(0,0,0,0.10);
  --ink-subtle: rgba(0,0,0,0.55);
  --accent: #3c5ebf;
  --accent-soft: rgba(60,94,191,0.10);
}
:root.dark {
  --bg: #0b0b0b;
  --panel: rgba(255,255,255,0.06);
  --text: #f6f7fb;
  --border: rgba(255,255,255,0.10);
  --ink-subtle: rgba(255,255,255,0.55);
  --accent: #7aa2ff;
  --accent-soft: rgba(122,162,255,0.12);
}

/* Base */
html, body, #__next { height: 100%; }
body { background: var(--bg); color: var(--text); }

/* Smooth easing like iOS */
.ease-ios { transition-timing-function: cubic-bezier(.22,1,.36,1); }

/* Glass + shadows */
.glass {
  background: var(--panel);
  backdrop-filter: saturate(180%) blur(18px);
  -webkit-backdrop-filter: saturate(180%) blur(18px);
  border-radius: 16px;
}
.shadow-soft { box-shadow: 0 10px 24px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.12); }
.shadow-insetglass { box-shadow: inset 0 1px 0 rgba(255,255,255,0.35), inset 0 -1px 0 rgba(0,0,0,0.06); }

/* Text utilities */
.text-ink-subtle { color: var(--ink-subtle); }

/* Buttons (fallbacks for plain <button>) */
.btn-reset { @apply inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm; }

/* Message bubble helpers */
.message { @apply rounded-2xl px-4 py-2 leading-relaxed shadow-soft; border: 1px solid var(--border); }
.message.assistant { @apply bg-white/70 dark:bg-white/10; border-color: var(--border); }
.message.user { @apply bg-accent-soft border border-accent/30; }

kbd { @apply inline-flex items-center justify-center px-1.5 py-0.5 text-[11px] rounded-md border align-middle;
  border-color: var(--border);
  background: rgba(255,255,255,0.7);
}
.dark kbd { background: rgba(255,255,255,0.08); }

/* Scrollbars */
*::-webkit-scrollbar { width: 10px; height: 10px; }
*::-webkit-scrollbar-thumb { background: rgba(0,0,0,.12); border-radius: 8px; }
.dark *::-webkit-scrollbar-thumb { background: rgba(255,255,255,.12); }

/* Tiny fade in */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(4px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-fadeUp { animation: fadeUp .25s ease-out; }

/* Animated gradient blob (soft wave) */
@keyframes blobFloat {
  0% { transform: translateY(0px) scale(1); filter: blur(16px); }
  50% { transform: translateY(-6px) scale(1.02); filter: blur(18px); }
  100% { transform: translateY(0px) scale(1); filter: blur(16px); }
}
.animate-blob { animation: blobFloat 6s ease-in-out infinite; }
